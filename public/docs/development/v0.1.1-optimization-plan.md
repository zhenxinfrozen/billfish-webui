# v0.1.1 ä¼˜åŒ–è®¡åˆ’

## ğŸ“… ç‰ˆæœ¬ä¿¡æ¯
- **ç‰ˆæœ¬**: v0.1.1
- **æ—¥æœŸ**: 2025-10-15
- **åŸºäº**: v0.1.0

## ğŸ¯ ä¼˜åŒ–ç›®æ ‡

### 1. ç§»é™¤æ˜ å°„ä¾èµ– - å…¨é¢é‡‡ç”¨SQLiteç›´è¿
### 2. åˆ é™¤åºŸå¼ƒçš„æ˜ å°„ç›¸å…³åŠŸèƒ?
### 3. ç»Ÿä¸€å¯¼èˆªèœå•ç»„ä»¶
### 4. ç®€åŒ–Pythonå·¥å…·ä¾èµ–

---

## ğŸ“‹ è¯¦ç»†ä¼˜åŒ–æ¸…å•

### ä¸€ã€ç§»é™¤Pythonæ˜ å°„è„šæœ¬ä¾èµ–

#### å½“å‰çŠ¶å†µ
```
â?æ—§æ¶æ?(v0.1.0):
Pythonè„šæœ¬ â†?ç”ŸæˆJSONæ˜ å°„ â†?PHPè¯»å–æ˜ å°„ â†?æ˜¾ç¤ºæ•°æ®
      â†?
generate_mapping_simple.py â†?id_based_mapping.json â†?BillfishManagerV2.php
```

#### æ–°æ¶æ?
```
âœ?æ–°æ¶æ?(v0.1.1):
PHPç›´è¿SQLite â†?å®æ—¶æŸ¥è¯¢ â†?æ˜¾ç¤ºæ•°æ®
      â†?
BillfishManagerV3.php â†?SQLite3æ‰©å±• â†?billfish.db
```

#### æ‰§è¡Œä»»åŠ¡
- [x] âœ?å·²åˆ›å»?`BillfishManagerV3.php` (ç›´è¿SQLite)
- [ ] åˆ é™¤ `tools/mapping/generate_mapping_simple.py`
- [ ] åˆ é™¤ `database-exports/id_based_mapping.json`
- [ ] åˆ é™¤ `database-exports/complete_material_info.json`
- [ ] æ›´æ–°æ–‡æ¡£è¯´æ˜ä¸å†éœ€è¦Pythonç¯å¢ƒ

---

### äºŒã€æ¸…ç†æ˜ å°„ç›¸å…³åºŸå¼ƒåŠŸèƒ?

#### åºŸå¼ƒçš„APIæ¥å£ (`api.php`)
```php
â?åˆ é™¤ä»¥ä¸‹action:
- refresh_mapping     // åˆ·æ–°æ˜ å°„
- validate_mapping    // éªŒè¯æ˜ å°„å‡†ç¡®æ€?
- check_updates       // æ£€æŸ¥æ•°æ®åº“æ›´æ–°
```

#### åºŸå¼ƒçš„å‰ç«¯åŠŸèƒ?

**index.php** - ç§»é™¤:
```javascript
â?function checkUpdates()      // æ£€æŸ¥æ•°æ®åº“æ›´æ–°
â?function refreshMapping()    // åˆ·æ–°æ˜ å°„
â?function validateMapping()   // éªŒè¯æ˜ å°„å‡†ç¡®ç?
```

**browse.php** - ç§»é™¤:
```javascript
â?function refreshMapping()    // åˆ·æ–°æ˜ å°„æŒ‰é’®
```

**status.php** - æ•´é¡µé‡æ„:
```
â?æ—§åŠŸèƒ? æ˜ å°„çŠ¶æ€ç›‘æ?
âœ?æ–°åŠŸèƒ? æ•°æ®åº“å¥åº·æ£€æŸ?
```

#### æ‰§è¡Œä»»åŠ¡
- [ ] æ¸…ç† `api.php` åºŸå¼ƒæ¥å£
- [ ] æ¸…ç† `index.php` æ˜ å°„ç›¸å…³JSå‡½æ•°
- [ ] æ¸…ç† `browse.php` åˆ·æ–°æ˜ å°„æŒ‰é’®
- [ ] é‡æ„ `status.php` â†?`database-health.php`

---

### ä¸‰ã€ç»Ÿä¸€å¯¼èˆªèœå•ç»„ä»¶åŒ?

#### å½“å‰é—®é¢˜
```
index.php:      é¦–é¡µ | æµè§ˆ | æœç´¢ | æ ‡ç­¾ | æ–‡æ¡£ | å·¥å…· | çŠ¶æ€? (7é¡?
browse.php:     é¦–é¡µ | æµè§ˆ | æœç´¢ | æ ‡ç­¾ | çŠ¶æ€?            (5é¡? â?
status.php:     é¦–é¡µ | æµè§ˆ | æœç´¢ | çŠ¶æ€?                  (4é¡? â?
docs-ui.php:    é¦–é¡µ | æµè§ˆ | æœç´¢ | æ–‡æ¡£ | å·¥å…·             (5é¡? âœ?
tools-ui.php:   é¦–é¡µ | æµè§ˆ | æœç´¢ | æ–‡æ¡£ | å·¥å…·             (5é¡? âœ?
```

#### è§£å†³æ–¹æ¡ˆ: åˆ›å»ºå¯¼èˆªç»„ä»¶

**æ–‡ä»¶**: `includes/NavigationComponent.php`

```php
<?php
class NavigationComponent {
    private $currentPage;
    
    public function __construct($currentPage) {
        $this->currentPage = $currentPage;
    }
    
    public function render() {
        $menuItems = [
            'index.php' => ['icon' => 'home', 'text' => 'é¦–é¡µ'],
            'browse.php' => ['icon' => 'th', 'text' => 'æµè§ˆ'],
            'search.php' => ['icon' => 'search', 'text' => 'æœç´¢'],
            'tags.php' => ['icon' => 'tags', 'text' => 'æ ‡ç­¾'],
            'docs-ui.php' => ['icon' => 'book', 'text' => 'æ–‡æ¡£'],
            'tools-ui.php' => ['icon' => 'tools', 'text' => 'å·¥å…·'],
            'database-health.php' => ['icon' => 'heartbeat', 'text' => 'å¥åº·æ£€æŸ?]
        ];
        
        // è¾“å‡ºç»Ÿä¸€å¯¼èˆªHTML
    }
}
?>
```

#### æ‰§è¡Œä»»åŠ¡
- [ ] åˆ›å»º `includes/NavigationComponent.php`
- [ ] æ›´æ–°æ‰€æœ‰PHPé¡µé¢ä½¿ç”¨ç»Ÿä¸€å¯¼èˆª
- [ ] æµ‹è¯•æ‰€æœ‰é¡µé¢å¯¼èˆªä¸€è‡´æ€?

---

### å››ã€é‡æ„æ•°æ®åº“å¥åº·æ£€æŸ?

#### æ–°åŠŸèƒ½è®¾è®?

**æ–‡ä»¶**: `database-health.php` (æ›¿ä»£ `status.php`)

**æ£€æŸ¥é¡¹**:
1. âœ?**æ•°æ®åº“è¿æ?*: SQLiteæ‰©å±•çŠ¶æ€?
2. âœ?**è¡¨å®Œæ•´æ€?*: æ ¸å¿ƒè¡¨æ˜¯å¦å­˜åœ?
3. âœ?**æ•°æ®ä¸€è‡´æ€?*: æ–‡ä»¶è®°å½• vs é¢„è§ˆå›¾è®°å½?
4. âœ?**æ–‡ä»¶å¯è¾¾æ€?*: æ–‡ä»¶è·¯å¾„æ˜¯å¦æœ‰æ•ˆ
5. âœ?**é¢„è§ˆå›¾ç”Ÿæˆç‡**: æœ‰å¤šå°‘æ–‡ä»¶ç¼ºå°‘é¢„è§ˆå›¾
6. âœ?**æ•°æ®åº“å¤§å°?*: billfish.dbæ–‡ä»¶å¤§å°ç›‘æ§
7. âœ?**æœ€ååŒæ­¥æ—¶é—?*: Billfishæœ€åä¿®æ”¹æ—¶é—?

**ç»„ä»¶**: `includes/DatabaseHealthChecker.php`

```php
class DatabaseHealthChecker {
    public function checkConnection()      // æ£€æŸ¥SQLiteè¿æ¥
    public function checkTables()          // æ£€æŸ¥è¡¨å®Œæ•´æ€?
    public function checkDataIntegrity()   // æ£€æŸ¥æ•°æ®ä¸€è‡´æ€?
    public function checkFileAccess()      // æ£€æŸ¥æ–‡ä»¶å¯è¾¾æ€?
    public function checkPreviewCoverage() // æ£€æŸ¥é¢„è§ˆå›¾è¦†ç›–ç?
    public function getDatabaseSize()      // è·å–æ•°æ®åº“å¤§å°?
    public function getLastSyncTime()      // è·å–æœ€ååŒæ­¥æ—¶é—?
}
```

#### æ‰§è¡Œä»»åŠ¡
- [ ] åˆ›å»º `includes/DatabaseHealthChecker.php`
- [ ] åˆ›å»º `database-health.php` é¡µé¢
- [ ] åˆ é™¤æ—§çš„ `status.php`
- [ ] æ›´æ–°å¯¼èˆªèœå•é“¾æ¥

---

### äº”ã€ç®€åŒ–Pythonå·¥å…·ä¾èµ–

#### ä¿ç•™çš„Pythonå·¥å…· (å¯é€‰åˆ†æå·¥å…?
```
tools/analysis/
â”œâ”€â”€ export_database.py    # âœ?ä¿ç•™ - æ•°æ®å¯¼å‡ºCSV
â”œâ”€â”€ list_tables.py        # âœ?ä¿ç•™ - è¡¨ç»“æ„åˆ†æ?
â””â”€â”€ deep_analysis.py      # âœ?ä¿ç•™ - æ·±åº¦æ•°æ®åˆ†æ
```

#### åˆ é™¤çš„Pythonå·¥å…· (å·²è¢«SQLiteæ›¿ä»£)
```
tools/mapping/
â””â”€â”€ generate_mapping_simple.py  # â?åˆ é™¤ - ä¸å†éœ€è¦é¢„ç”Ÿæˆæ˜ å°„
```

#### æ›´æ–°æ–‡æ¡£
- [ ] æ›´æ–° `README.md` - è¯´æ˜Pythonä¸ºå¯é€‰ä¾èµ?
- [ ] æ›´æ–° `quick-start.md` - ç§»é™¤æ˜ å°„ç”Ÿæˆæ­¥éª¤
- [ ] åˆ›å»º `optional-tools.md` - Pythonåˆ†æå·¥å…·ä½¿ç”¨æŒ‡å—

---

## ğŸ—‚ï¸?æ–‡ä»¶å˜æ›´æ¸…å•

### æ–°å¢æ–‡ä»¶
```
includes/NavigationComponent.php        # ç»Ÿä¸€å¯¼èˆªç»„ä»¶
includes/DatabaseHealthChecker.php      # æ•°æ®åº“å¥åº·æ£€æŸ?
includes/DatabaseSyncChecker.php        # æ•°æ®åº“åŒæ­¥æ£€æŸ?
database-health.php                     # å¥åº·æ£€æŸ¥é¡µé?
docs/user-guide/optional-tools.md       # å¯é€‰å·¥å…·æŒ‡å?
```

### ä¿®æ”¹æ–‡ä»¶
```
index.php                   # ç§»é™¤æ˜ å°„ç›¸å…³JS,ä½¿ç”¨å¯¼èˆªç»„ä»¶
browse.php                  # ä½¿ç”¨ç»Ÿä¸€å¯¼èˆªç»„ä»¶
search.php                  # ä½¿ç”¨ç»Ÿä¸€å¯¼èˆªç»„ä»¶
tags.php                    # ä½¿ç”¨ç»Ÿä¸€å¯¼èˆªç»„ä»¶
docs-ui.php                 # ä½¿ç”¨ç»Ÿä¸€å¯¼èˆªç»„ä»¶
tools-ui.php                # ä½¿ç”¨ç»Ÿä¸€å¯¼èˆªç»„ä»¶
api.php                     # åˆ é™¤æ˜ å°„ç›¸å…³æ¥å£
config.php                  # æ·»åŠ å¥åº·æ£€æŸ¥é…ç½?
```

### åˆ é™¤æ–‡ä»¶
```
status.php                                    # è¢?database-health.php æ›¿ä»£
tools/mapping/generate_mapping_simple.py      # ä¸å†éœ€è¦é¢„ç”Ÿæˆæ˜ å°„
database-exports/id_based_mapping.json        # ä¸å†ä½¿ç”¨JSONæ˜ å°„
database-exports/complete_material_info.json  # ä¸å†ä½¿ç”¨JSONæ˜ å°„
includes/BillfishManagerV2.php               # è¢?V3 æ›¿ä»£
```

---

## ğŸ“Š ä¼˜åŒ–æ•ˆæœé¢„æœŸ

### æ€§èƒ½æå‡
- âœ?**å®æ—¶æ•°æ®**: ä¸å†ä¾èµ–é¢„ç”Ÿæˆæ˜ å°?æ•°æ®å§‹ç»ˆæœ€æ–?
- âœ?**æ›´å¿«åŠ è½½**: ç›´è¿SQLiteæ¯”è¯»JSONæ›´å¿«
- âœ?**å‡å°‘ç»´æŠ¤**: æ— éœ€å®šæœŸåˆ·æ–°æ˜ å°„

### ç”¨æˆ·ä½“éªŒ
- âœ?**ç»Ÿä¸€å¯¼èˆª**: æ‰€æœ‰é¡µé¢èœå•ä¸€è‡?
- âœ?**å®æ—¶ç›‘æ§**: æ•°æ®åº“å¥åº·çŠ¶æ€å®æ—¶æ˜¾ç¤?
- âœ?**ç®€åŒ–éƒ¨ç½?*: æ— éœ€Pythonç¯å¢ƒå³å¯è¿è¡Œ

### ä»£ç è´¨é‡
- âœ?**ç»„ä»¶åŒ?*: å¯¼èˆªç»„ä»¶å¯å¤ç”?
- âœ?**èŒè´£æ¸…æ™°**: å¥åº·æ£€æŸ¥ç‹¬ç«‹æ¨¡å?
- âœ?**æ˜“äºç»´æŠ¤**: å‡å°‘å†—ä½™ä»£ç 

---

## ğŸ”„ æ‰§è¡Œé¡ºåº

### é˜¶æ®µ1: åˆ›å»ºæ–°ç»„ä»?(ä¸å½±å“ç°æœ‰åŠŸèƒ?
1. åˆ›å»º `NavigationComponent.php`
2. åˆ›å»º `DatabaseHealthChecker.php`
3. åˆ›å»º `database-health.php`
4. æµ‹è¯•æ–°åŠŸèƒ?

### é˜¶æ®µ2: è¿ç§»ç°æœ‰é¡µé¢
1. æ›´æ–° `index.php` ä½¿ç”¨æ–°å¯¼èˆ?
2. æ›´æ–° `browse.php` ä½¿ç”¨æ–°å¯¼èˆ?
3. æ›´æ–° `search.php` ä½¿ç”¨æ–°å¯¼èˆ?
4. æ›´æ–°å…¶ä»–é¡µé¢
5. æµ‹è¯•æ‰€æœ‰é¡µé?

### é˜¶æ®µ3: æ¸…ç†åºŸå¼ƒåŠŸèƒ½
1. æ¸…ç† `api.php` æ˜ å°„æ¥å£
2. æ¸…ç† `index.php` æ˜ å°„JS
3. æ¸…ç† `browse.php` æ˜ å°„æŒ‰é’®
4. åˆ é™¤ `status.php`
5. åˆ é™¤æ˜ å°„Pythonè„šæœ¬
6. åˆ é™¤æ˜ å°„JSONæ–‡ä»¶

### é˜¶æ®µ4: æ–‡æ¡£æ›´æ–°
1. æ›´æ–° `README.md`
2. æ›´æ–°å¿«é€Ÿå¼€å§‹æ–‡æ¡?
3. åˆ›å»ºå¯é€‰å·¥å…·æ–‡æ¡?
4. æ›´æ–° `docs/config.json`

---

## âœ?éªŒæ”¶æ ‡å‡†

- [ ] æ‰€æœ‰é¡µé¢å¯¼èˆªèœå•å®Œå…¨ä¸€è‡?
- [ ] æ•°æ®åº“å¥åº·æ£€æŸ¥åŠŸèƒ½æ­£å¸?
- [ ] æ— æ˜ å°„ç›¸å…³é”™è¯¯å’Œè­¦å‘Š
- [ ] åˆ é™¤æ‰€æœ‰æ˜ å°„ç›¸å…³ä»£ç ?
- [ ] æ–‡æ¡£å®Œæ•´æ›´æ–°
- [ ] æ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡

---

## ğŸ“ åç»­è®¡åˆ’ (v0.1.2+)

- æ·»åŠ æ•°æ®åº“å¤‡ä»½åŠŸèƒ?
- å®ç°é¢„è§ˆå›¾æ‰¹é‡ç”Ÿæˆ?
- æ”¯æŒBillfishæ ‡ç­¾åŒæ­¥
- æ·»åŠ è§†é¢‘å…ƒæ•°æ®ç¼–è¾?
- å®ç°å¤šç”¨æˆ·æƒé™ç®¡ç?

---

**åˆ¶å®šæ—¥æœŸ**: 2025-10-15  
**è®¡åˆ’ç‰ˆæœ¬**: v0.1.1  
**é¢„è®¡å®Œæˆ**: 2025-10-15

